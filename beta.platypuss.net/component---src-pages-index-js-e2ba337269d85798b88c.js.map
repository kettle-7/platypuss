{"version":3,"file":"component---src-pages-index-js-e2ba337269d85798b88c.js","mappings":"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","sources":["webpack://platypuss-beta/./src/components/common.jsx","webpack://platypuss-beta/./src/pages/index.js"],"sourcesContent":["import React from \"react\";\n\nexport const PageHeader = ({title, iconClickEvent}) => {\n    return (<header>\n        <img onClick={iconClickEvent ? iconClickEvent : () => {window.location = \"/\"}} style={{cursor: \"pointer\"}} src=\"/icons/icon-48x48.png\"/>\n        <h2 onClick={() => {window.location = \"/\"}} style={{cursor: \"pointer\"}}>\n            {title ? title : \"(Beta!) Platypuss\"}\n        </h2>\n    </header>);\n};","/************************************************************************\n* Copyright 2021-2024 Ben Keppel                                        *\n*                                                                       *\n* This program is free software: you can redistribute it and/or modify  *\n* it under the terms of the GNU General Public License as published by  *\n* the Free Software Foundation, either version 3 of the License, or     *\n* (at your option) any later version.                                   *\n*                                                                       *\n* This program is distributed in the hope that it will be useful,       *\n* but WITHOUT ANY WARRANTY; without even the implied warranty of        *\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *\n* GNU General Public License for more details.                          *\n*                                                                       *\n* You should have received a copy of the GNU General Public License     *\n* along with this program.  If not, see <http://www.gnu.org/licenses/>. *\n************************************************************************/\n\nimport * as Common from \"../components/common\";\nimport * as React from \"react\";\nimport \"./light.scss\";\n\nconst emailRegexp = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/gi;\nconst authUrl = \"https://platypuss.net\"; // this shouldn't need to change but just in case\nvar emailRef, usernameRef, passwordRef, secondPasswordRef;\n\n// thanks bryc on stack overflow ^w^\nfunction hashPassword (str, seed = 20) { // hashes passwords somehow\n    let h1 = 0xdeadbeef ^ seed, // had to be something\n    h2 = 0x41c6ce57 ^ seed;\n    for (let i = 0, ch; i < str.length; i++) {\n        ch = str.charCodeAt(i);\n        // Math.imul multiplies without loss of precision\n        h1 = Math.imul(h1 ^ ch, 2654435761);\n        h2 = Math.imul(h2 ^ ch, 1597334677);\n    }\n    \n    h1 = Math.imul(h1 ^ (h1 >>> 16), 2246822507) ^ Math.imul(h2 ^ (h2 >>> 13), 3266489909);\n    h2 = Math.imul(h2 ^ (h2 >>> 16), 2246822507) ^ Math.imul(h1 ^ (h1 >>> 13), 3266489909);\n\n    return (h2>>>0).toString(16).padStart(8,0)+(h1>>>0).toString(16).padStart(8,0);\n};\n\nvar createNewAccount = false; // whether we're signing in or making a new account, signing in being false and default\n\nconst headingStyles = {\n  marginTop: 0,\n  marginBottom: 64,\n  maxWidth: 320,\n};\nconst paragraphStyles = {\n  marginBottom: 48,\n};\n\nfunction doTheLoginThingy() {\n  fetch(`${authUrl}/login`, { // send this data to the authentication server, accepting a json response\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'text/plain'\n    },\n    body: JSON.stringify({ // the information we send to the authentication server\n      createNew: createNewAccount,\n      ift: createNewAccount, // deprecated\n      server: \"example.com\", // can be anything so long as no platypuss server will actually be hosted there,\n      ser: \"example.com\", // also deprecated\n      email: emailRef.current.value,\n      pwd: hashPassword(passwordRef.current.value), // guess what ? also deprecated >:3\n      password: hashPassword(passwordRef.current.value)\n    })\n    // we take the response and save the session token to the browser\n  }).then(response => response.json()).then(response => {\n    console.log(response);\n    localStorage.setItem(\"sessionID\", response.sessionID);\n    window.location = \"/chat\";\n  });\n}\n\nconst IndexPage = () => {\n  // These let us refer to the text boxes later on\n  emailRef = React.useRef(null);\n  usernameRef = React.useRef(null);\n  passwordRef = React.useRef(null);\n  secondPasswordRef = React.useRef(null);\n  return (<>\n    <Common.PageHeader/>\n    <main id=\"mainPage\">\n      <a href=\"/chat\">cat</a>\n      <h1 style={headingStyles}>\n        Congratulations\n        <br/>\n        <span>â€” you just made a Skill iSsue site! ðŸŽ‰ðŸŽ‰ðŸŽ‰ :3</span>\n      </h1>\n      <p style={paragraphStyles}>\n        Edit <code>src/pages/index.js</code> to see this page\n        update in real-time. ðŸ˜Ž\n      </p>\n      <div id=\"P\" className=\"popupParent\" style={{display: \"flex\"}} onMouseDown={()=>{return;document.getElementById('P').style.display = 'none'}}><div id=\"p\" className=\"popup\">\n        <h2 id=\"lit1\">Sign In</h2>\n        <span id=\"lit2\">Welcome back! If you don't already have an account <br/> please <a href=\"#\" onClick=\"su()\">create an account</a> instead.</span>\n        <div id=\"loginform\">\n          <div style={{display:\"grid\",gridTemplateColumns:\"auto auto\"}}>\n          {/* The four lines below contain a weird thing with anonymous functions, this is the only way I know of to assign the element to a variable and position it at the same time */}\n          <label>Email address </label><input type=\"email\" id=\"email\" className=\"textBox\" ref={emailRef}/>\n          <label id=\"pr2\">Username </label><input type=\"text\" id=\"unam\" className=\"textBox\" ref={usernameRef}/>\n          <label>Password </label><input type=\"password\" id=\"pwd1\" className=\"textBox\" ref={passwordRef}/>\n          <label id=\"pr1\">Confirm Password </label><input type=\"password\" id=\"pwd2\" className=\"textBox\" ref={secondPasswordRef}/>\n          </div><br/>\n          <button onClick={doTheLoginThingy} id=\"lit3\">Sign In</button>\n        </div>\n      </div></div>\n    </main>\n    <footer>links to stuff maybe</footer>\n  </>);\n};\n\nexport default IndexPage;\n\nexport const Head = () => (\n  <title>(Beta!) Platypuss</title>\n);\n"],"names":["PageHeader","title","iconClickEvent","React","onClick","window","location","style","cursor","src","emailRef","usernameRef","passwordRef","secondPasswordRef","hashPassword","str","seed","h1","h2","ch","i","length","charCodeAt","Math","imul","toString","padStart","headingStyles","marginTop","marginBottom","maxWidth","paragraphStyles","doTheLoginThingy","fetch","method","headers","body","JSON","stringify","createNew","ift","server","ser","email","current","value","pwd","password","then","response","json","console","log","localStorage","setItem","sessionID","IndexPage","Common","id","href","className","display","onMouseDown","gridTemplateColumns","type","ref","Head"],"sourceRoot":""}